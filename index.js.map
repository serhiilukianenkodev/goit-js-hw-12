{"version":3,"file":"index.js","sources":["../src/js/pixabey-api.js","../src/js/render-functions.js","../src/js/helpers/loader.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '29142435-196ab0ea47673651fa34d9a29';\nconst baseURL = 'https://pixabay.com/api/';\n\n// 'https://pixabay.com/api/?key=29142435-196ab0ea47673651fa34d9a29&q=yellow+flowers&image_type=photo&pretty=true';\n\nexport function getPhotos(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios.get(baseURL, { params });\n}\n","export function createGallery(list) {\n  return list.map(item => createCard(item)).join('');\n}\n\nfunction createCard(item) {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = item;\n  return `        \n        <li class = \"gallery-card\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\" class = \"card-img\" />\n            <ul class = \"card-stats\">\n              <li class = \"card-stat\">\n                <p>Likes</p>\n                <span>${likes}</span>\n              </li>\n              <li class = \"card-stat\">\n                <p>Views</p>\n                <span>${views}</span>\n                </li>\n              <li class = \"card-stat\">\n                <p>Comments</p>\n                <span>${comments}</span>\n              </li>\n              <li class = \"card-stat\">\n                <p>Downloads</p>\n                <span>${downloads}</span>\n              </li>\n            </ul>\n          </a>\n        </li>`;\n}\n","const loader = document.querySelector('.loader');\n\nexport function showLoader() {\n  loader.classList.remove('hide');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hide');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getPhotos } from './js/pixabey-api';\nimport { createGallery } from './js/render-functions';\nimport { hideLoader, showLoader } from './js/helpers/loader';\n\nconst refs = {\n  form: document.querySelector('.js-form'),\n  galleryList: document.querySelector('.js-gallery'),\n};\n\nrefs.form.addEventListener('submit', onSearchFormSubmit);\n\nconst options = {\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionDelay: 250,\n};\nconst gallery = new SimpleLightbox('.gallery a', options);\n\nfunction onSearchFormSubmit(e) {\n  e.preventDefault();\n\n  const query = e.target.elements.query.value.trim();\n  const isQueryEmpty = !query;\n  if (isQueryEmpty)\n    return iziToast.warning({\n      position: 'center',\n      message: 'Your query is empty',\n    });\n\n  refs.galleryList.innerHTML = '';\n  showLoader();\n\n  getPhotos(query)\n    .then(({ data }) => {\n      if (data.hits.length === 0) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n\n      return data.hits;\n    })\n    .then(items => {\n      refs.galleryList.innerHTML = createGallery(items);\n      gallery.refresh();\n    })\n    .catch(({ message }) => {\n      iziToast.error({\n        position: 'center',\n        messageColor: 'red',\n        message: message,\n      });\n    })\n    .finally(() => hideLoader());\n\n  e.target.reset();\n}\n"],"names":["API_KEY","baseURL","getPhotos","query","params","axios","createGallery","list","item","createCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loader","showLoader","hideLoader","refs","onSearchFormSubmit","options","gallery","SimpleLightbox","e","iziToast","data","items","message"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAU,2BAIT,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EAAM,IAAIJ,EAAS,CAAE,OAAAG,CAAQ,CAAA,CACtC,CCjBO,SAASE,EAAcC,EAAM,CAClC,OAAOA,EAAK,IAAIC,GAAQC,EAAWD,CAAI,CAAC,EAAE,KAAK,EAAE,CACnD,CAEA,SAASC,EAAWD,EAAM,CACxB,KAAM,CACJ,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGR,EACJ,MAAO;AAAA;AAAA,qBAEYG,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,wBAI1BC,CAAK;AAAA;AAAA;AAAA;AAAA,wBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,wBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,cAKjC,CCtCA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CAC3BD,EAAO,UAAU,OAAO,MAAM,CAChC,CAEO,SAASE,GAAa,CAC3BF,EAAO,UAAU,IAAI,MAAM,CAC7B,CCEA,MAAMG,EAAO,CACX,KAAM,SAAS,cAAc,UAAU,EACvC,YAAa,SAAS,cAAc,aAAa,CACnD,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAkB,EAEvD,MAAMC,EAAU,CACd,gBAAiB,MACjB,aAAc,MACd,aAAc,GAChB,EACMC,EAAU,IAAIC,EAAe,aAAcF,CAAO,EAExD,SAASD,EAAmBI,EAAG,CAC7BA,EAAE,eAAc,EAEhB,MAAMtB,EAAQsB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE5C,GADqB,CAACtB,EAEpB,OAAOuB,EAAS,QAAQ,CACtB,SAAU,SACV,QAAS,qBACf,CAAK,EAEHN,EAAK,YAAY,UAAY,GAC7BF,IAEAhB,EAAUC,CAAK,EACZ,KAAK,CAAC,CAAE,KAAAwB,KAAW,CAClB,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MACR,0EACV,EAGM,OAAOA,EAAK,IAClB,CAAK,EACA,KAAKC,GAAS,CACbR,EAAK,YAAY,UAAYd,EAAcsB,CAAK,EAChDL,EAAQ,QAAO,CACrB,CAAK,EACA,MAAM,CAAC,CAAE,QAAAM,KAAc,CACtBH,EAAS,MAAM,CACb,SAAU,SACV,aAAc,MACd,QAASG,CACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMV,EAAU,CAAE,EAE7BM,EAAE,OAAO,OACX"}